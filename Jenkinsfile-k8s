pipeline {
    agent none
    environment {
        PROJECT = "TESTING JENKINS SLAVE IN NR"
    }
    stages {
        stage('Run win') {
            agent {
                kubernetes {
                    label 'jenkins-windows-slave'
                    yamlFile 'JenkinsKubernetesPodWindows.yaml'
                    nodeSelector 'kubernetes.io/os=windows'
                }
            }
            steps {
                // The needed steps for your testing
                container('windows') {
                    bat 'dotnet -h'
               }
            }
        }
        stage('Run centos5') {
            agent {
                kubernetes {
                    label 'jenkins-linux-slave'
                    yamlFile 'JenkinsKubernetesPodLinux.yaml'
                }
            }
            steps {
                // The needed steps for your testing
                container('centos5-go') {
                    sh """
                        echo $PROJECT
                        go version
                        make -v
                    """
                   }
            }
        }
    }
}